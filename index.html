<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pymax Finanzas</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Supabase (UNA SOLA VEZ) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Tu CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("5bz9UlqMqgPJ8HQOc");
    })();
  </script>


  <script>
    const SUPABASE_URL = "https://haqjuyagyvxynmulanhe.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhcWp1eWFneXZ4eW5tdWxhbmhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4MjU0MjQsImV4cCI6MjA4MTQwMTQyNH0.3aSIfr3s5spESzEv_UAaqYkJzVyhbkK8ZpSlExY0A3g";
    const supabase = window.supabase.createClient(
      SUPABASE_URL,
      SUPABASE_ANON_KEY
    );
  </script>
</head>

<body class="relative min-h-screen flex flex-col bg-gray-900 text-white font-sans overflow-x-hidden">
 
  <!-- ================= NOTIFICACIONES PYMAX ================= -->
<div id="pymax-toast-container" class="fixed top-6 right-6 z-50 space-y-3"></div>


<!-- =================== UI (NO TOCADO) =================== -->
<!-- Aurora -->
<div class="absolute inset-0 -z-10 overflow-hidden">
  <div class="absolute top-0 left-1/2 w-[800px] h-[800px] bg-blue-500 opacity-20 blur-[150px] rounded-full animate-pulse"></div>
  <div class="absolute bottom-0 right-1/3 w-[900px] h-[900px] bg-purple-500 opacity-20 blur-[160px] rounded-full animate-pulse delay-700"></div>
  <div class="absolute top-1/3 left-1/4 w-[600px] h-[600px] bg-indigo-400 opacity-10 blur-[180px] rounded-full animate-pulse delay-1000"></div>
</div>

<!-- Navbar -->
<nav id="navbar" class="flex justify-between items-center px-8 py-4 backdrop-blur-md">
  <div class="flex items-center space-x-3">
    <img src="img/pymax.png" class="w-16 h-16" />
    <span class="text-2xl font-bold">PYMAX</span>
  </div>
  <div id="navButtons" class="space-x-4"></div>
</nav>
<main class="flex flex-col items-center justify-center flex-grow px-6 text-center">

  <!-- HERO -->
  <section class="max-w-4xl mt-24">
    <h1 class="text-5xl md:text-6xl font-extrabold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-300 bg-clip-text text-transparent">
      Bienvenido a Pymax
    </h1>

    <p class="text-gray-200 text-lg leading-relaxed mb-4">
      Pymax existe para algo muy simple,
      pero muy poderoso:
    </p>

    <p class="text-gray-200 text-xl font-semibold mb-6">
      ayudarte a crecer con claridad,
      orden y visión real.
    </p>

    <p class="text-gray-300 leading-relaxed">
      No importa desde dónde partas.
      Si tienes ambición,
      Pymax está diseñado para acompañarte
      en cada etapa del camino.
    </p>
  </section>

  <!-- DIVISOR -->
  <div class="w-24 h-[2px] bg-gradient-to-r from-blue-500 to-indigo-500 my-12 rounded-full"></div>

  <!-- QUÉ ES PYMAX -->
  <section class="max-w-4xl">
    <h2 class="text-3xl font-semibold text-blue-300 mb-4">
      Qué es realmente Pymax
    </h2>

    <p class="text-gray-300 leading-relaxed mb-4">
      Pymax no es solo una plataforma financiera.
      Tampoco es solo una inteligencia artificial.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      Pymax es un sistema inteligente que piensa contigo,
      trabaja por ti
      y te ayuda a tomar mejores decisiones
      cuando más importa.
    </p>

    <p class="text-gray-200 font-medium">
      Es control financiero,
      estrategia
      y crecimiento,
      integrados en un solo lugar.
    </p>
  </section>

  <!-- DIVISOR -->
  <div class="w-24 h-[2px] bg-gradient-to-r from-purple-500 to-indigo-500 my-12 rounded-full"></div>

  <!-- IA -->
  <section class="max-w-4xl">
    <h2 class="text-3xl font-semibold text-indigo-300 mb-4">
      Una IA que nunca se detiene
    </h2>

    <p class="text-gray-300 leading-relaxed mb-4">
      En Pymax no “usas” la inteligencia artificial.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      Trabajas junto a ella todo el tiempo.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      La IA analiza tus ingresos,
      gastos,
      flujo de caja,
      riesgos,
      oportunidades
      y proyecciones
      de forma automática,
      incluso cuando tú no estás mirando.
    </p>

    <p class="text-gray-200 font-medium">
      Ella hace el trabajo pesado.
      Tú tomas decisiones con claridad.
    </p>
  </section>

  <!-- DIVISOR -->
  <div class="w-24 h-[2px] bg-gradient-to-r from-emerald-400 to-blue-500 my-12 rounded-full"></div>

  <!-- DIFERENCIAL -->
  <section class="max-w-4xl">
    <h2 class="text-3xl font-semibold text-emerald-300 mb-4">
      Lo que nos hace realmente distintos
    </h2>

    <p class="text-gray-300 leading-relaxed mb-4">
      Pymax no solo te ayuda con números.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      Te ayuda a pensar mejor,
      a ordenar tu mente,
      a ver con claridad
      y a actuar con estrategia.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      Mientras tus finanzas están completamente organizadas,
      la inteligencia artificial trabaja contigo
      como un estratega silencioso,
      anticipando escenarios
      y ayudándote a crecer
      como empresario
      y como profesional.
    </p>

    <p class="text-gray-200 font-semibold">
      No es solo tecnología.
      Es criterio,
      disciplina
      y dirección.
    </p>
  </section>

  <!-- DIVISOR -->
  <div class="w-24 h-[2px] bg-gradient-to-r from-indigo-400 to-purple-500 my-12 rounded-full"></div>

  <!-- QUIÉNES SOMOS -->
  <section class="max-w-4xl">
    <h2 class="text-3xl font-semibold text-purple-300 mb-4">
      Quiénes somos
    </h2>

    <p class="text-gray-300 leading-relaxed mb-4">
      Pymax fue creado para personas y negocios
      que quieren dejar atrás la incertidumbre,
      el desorden invisible
      y las decisiones tomadas a ciegas.
    </p>

    <p class="text-gray-300 leading-relaxed mb-4">
      Creemos que crecer no es improvisar.
      Es entender,
      decidir bien
      y avanzar con intención.
    </p>

    <p class="text-gray-200 font-medium">
      Pymax está aquí para acompañarte
      mientras construyes algo más grande que tú mismo.
    </p>
  </section>

  <!-- CIERRE -->
  <section class="max-w-4xl mt-12 mb-24">
    <p class="text-gray-200 text-lg mb-6">
      Tú pones la ambición.
      <br />
      Pymax se encarga del orden,
      la estrategia
      y el crecimiento.
    </p>

    <a
      id="verServiciosLink"
      href="servicios.html"
      class="inline-block bg-blue-600 px-8 py-3 rounded-xl hover:bg-blue-700 transition font-semibold"
    >
      Ver servicios
    </a>
  </section>

</main>






<!-- =================== MODALES (NO TOCADOS) =================== -->
<!-- Login -->
<div id="loginModal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center">
  <div class="bg-gray-800 p-6 rounded w-96">
    <input id="loginEmail" type="email" placeholder="Email" class="w-full mb-2 p-2 bg-gray-700 rounded"/>
    <input id="loginPassword" type="password" placeholder="Password" class="w-full mb-4 p-2 bg-gray-700 rounded"/>
    <button id="loginSubmit" class="w-full bg-blue-600 p-2 rounded">Entrar</button>
  </div>
</div>

<!-- Registro -->
<div id="registerModal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center">
  <div class="bg-gray-800 p-6 rounded w-96">
    <input id="registerName" type="text" placeholder="Nombre" class="w-full mb-2 p-2 bg-gray-700 rounded"/>
    <input id="registerEmail" type="email" placeholder="Email" class="w-full mb-2 p-2 bg-gray-700 rounded"/>
    <input id="registerPassword" type="password" placeholder="Password" class="w-full mb-4 p-2 bg-gray-700 rounded"/>
    <button id="registerSubmit" class="w-full bg-purple-600 p-2 rounded">Crear cuenta</button>
  </div>
</div>

<!-- =================== LÓGICA FINAL =================== -->
<script>
// ================= NOTIFICACIONES PYMAX =================
function pymaxNotify({ title = "Pymax", message = "", type = "info" }) {
  const container = document.getElementById("pymax-toast-container");

  const colors = {
    info: "from-blue-500/20 to-indigo-500/20 border-blue-400/30",
    success: "from-emerald-500/20 to-green-500/20 border-emerald-400/30",
    error: "from-red-500/20 to-pink-500/20 border-red-400/30"
  };

  const toast = document.createElement("div");
  toast.className = `
    relative overflow-hidden
    backdrop-blur-xl
    bg-gradient-to-r ${colors[type]}
    border
    text-white
    px-5 py-4
    rounded-xl
    shadow-xl
    max-w-sm
  `;

  toast.innerHTML = `
    <div class="font-semibold text-sm mb-1">${title}</div>
    <div class="text-sm text-gray-200">${message}</div>
  `;

  container.appendChild(toast);

  setTimeout(() => {
    toast.classList.add("opacity-0", "translate-x-5");
    setTimeout(() => toast.remove(), 400);
  }, 4200);
}

// ================= APP =================
document.addEventListener("DOMContentLoaded", async () => {

  const navButtons = document.getElementById("navButtons");

  async function actualizarNavbar() {
    const { data: { user } } = await supabase.auth.getUser();

    if (user) {
      navButtons.innerHTML = `
        <span class="text-gray-200">Hola, ${user.email}</span>
        <button id="logoutBtn" class="bg-red-600 px-3 py-1 rounded">Salir</button>
      `;

      document.getElementById("logoutBtn").onclick = async () => {
        await supabase.auth.signOut();
        location.reload();
      };
    } else {
      navButtons.innerHTML = `
        <button onclick="loginModal.classList.remove('hidden')">Iniciar sesión</button>
        <button onclick="registerModal.classList.remove('hidden')">Crear cuenta</button>
      `;
    }
  }

  // ========= REGISTRO =========
  registerSubmit.onclick = async () => {
    const email = registerEmail.value;
    const password = registerPassword.value;
    const name = registerName.value;

    const { error } = await supabase.auth.signUp({
      email,
      password,
      options: {
        data: { name },
        emailRedirectTo: "https://pymaxcenter2.netlify.app"
      }
    });

    if (error) {
      pymaxNotify({
        title: "Error",
        message: error.message,
        type: "error"
      });
      return;
    }

    pymaxNotify({
      title: "Revisa tu correo",
      message: "Te enviamos un enlace para confirmar tu cuenta.",
      type: "success"
    });

    registerModal.classList.add("hidden");
  };

  // ========= LOGIN =========
  loginSubmit.onclick = async () => {
    const { error } = await supabase.auth.signInWithPassword({
      email: loginEmail.value,
      password: loginPassword.value
    });

    if (error) {
      pymaxNotify({
        title: "Error al iniciar sesión",
        message: error.message,
        type: "error"
      });
      return;
    }

    pymaxNotify({
      title: "Bienvenido a Pymax",
      message: "Has iniciado sesión correctamente.",
      type: "success"
    });

    loginModal.classList.add("hidden");
    actualizarNavbar();
  };

  actualizarNavbar();
});
</script>
